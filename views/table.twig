{% extends "index.twig" %}

{% block body %}


                         <div class="col-lg-6">
                                <div class="au-card m-b-30">
                                    <div class="au-card-inner">
                                        <h3 class="title-2 m-b-40">Single Bar Chart</h3>
                                        <canvas id="singelBarChart"></canvas>
                                    </div>
                                </div>
                            </div>


<div class="table-responsive">
  <table class="table table-striped table-bordered table-sm table-light ">
    <thead>
      <tr>
        <th scope="col">Article</th>
        <th scope="col">category</th>
        <th scope="col">cut</th>
        <th scope="col">quantity</th>
        <th scope="col">description</th>
        <th scope="col">information</th>
        <th scope="col">number of tests</th>
      </tr>
    </thead>
    <tbody>


    {% for article in articles %}
      <tr>
        <td>{{article.image}}<img src="/images/Clothing Stock/{{article.categorie}}/{{article.image}}" class="ui mini rounded image"></td>
        <td>{{article.categorie}}</td>
        <td>{{article.taille}}</td>
        <td>{{article.quantite}}</td>
        <td>{{article.desc}}</td>
        <td>{{article.infos}}</td> 


                <td>{% for article in article.scanne %}       
               {% set j = loop.length %}
               {{j ~' ' ~'times tested'}} </td>
                {% endfor %}

      </tr>
      </tbody>
{% endfor %}

  </table>
</div>


        
{% endblock %}

{% block addjs %}
<script>
$.ajax({
       url :'/stat/week',
       type : 'GET',
       success : function(data){
       setTimeout(next(data), 500);
       }
     });

var ctx = document.getElementById("singelBarChart");
    if (ctx) {
      ctx.height = 200;
      var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ["Sun", "Mon", "Tu", "Wed", "Th", "Fri", "Sat"],
          datasets: [
            {
              label: "My First dataset",
              data: [40, 55, 75, 81, 56, 55, 40],
              bordSerColor: "rgba(0, 123, 255, 0.9)",
              borderWidth: "0",
              backgroundColor: "rgba(0, 123, 255, 0.5)"
            }
          ]
        },
        options: {
          legend: {
            position: 'top',
            labels: {
              fontFamily: 'Poppins'
            }

          },
          scales: {
            xAxes: [{
              ticks: {
                fontFamily: "Poppins"

              }
            }],
            yAxes: [{
              ticks: {
                beginAtZero: true,
                fontFamily: "Poppins"
              }
            }]
          }
        }
      });
    }
    </script>
{% endblock %}


